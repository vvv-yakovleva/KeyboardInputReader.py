import keyboard

def main():
    print("Программа для чтения клавиш. Нажмите 'Esc' для выхода.")

    while True:
        try:
            # Ждем нажатия клавиши
            key_event = keyboard.read_event()

            # Печатаем информацию о событии
            print(f"Клавиша {key_event.name} {'нажата' if key_event.event_type == keyboard.KEY_DOWN else 'отпущена'}")

            # Проверяем, если нажата клавиша 'Esc', завершаем программу
            if key_event.event_type == keyboard.KEY_DOWN and key_event.name == 'esc':
                print("Программа завершена.")
                break

        except KeyboardInterrupt:
            print("Программа завершена.")
            break

if __name__ == "__main__":
    main()
